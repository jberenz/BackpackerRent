{% extends "base.html" %}
{% block title %}Buchung bestÃ¤tigt â€“ Backpacker Rent{% endblock %}

{% block content %}
<section class="add-section">
  <div class="add-container">
    <h2 class="add-header">ðŸŽ‰ Buchung erfolgreich!</h2>

    <div class="confirmation-details" style="background: white; padding: 2rem; border-radius: 1rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
  {% if offers %}
    <p><strong>Produkte:</strong></p>
    <ul>
      {% for offer in offers %}
        <li>
{% set parts = [] %}
{% if offer.category %}{% set _ = parts.append(offer.category) %}{% endif %}
{% if offer.region %}{% set _ = parts.append(offer.region) %}{% endif %}
{{ offer.title }}{% if parts %} ({{ parts | join(' Â· ') }}){% endif %}<br>
          {{ ('%.2f'|format(offer.price_per_night)).replace('.', ',') }} â‚¬ pro Nacht
        </li>
      {% endfor %}
    </ul>
  {% elif offer %}
    <p><strong>Produkt:</strong> {{ offer.title }}</p>
{% set parts = [] %}
{% if offer.category %}{% set _ = parts.append(offer.category) %}{% endif %}
{% if offer.region %}{% set _ = parts.append(offer.region) %}{% endif %}
{% if parts %}
    <p>({{ parts | join(' Â· ') }})</p>
{% endif %}
    <p>{{ ('%.2f'|format(offer.price_per_night)).replace('.', ',') }} â‚¬ pro Nacht</p>
  {% endif %}

  <p><strong>Gesamtpreis:</strong> {{ ('%.2f'|format(total_price)).replace('.', ',') }} â‚¬</p>
  <hr>
  <p><strong>Buchungszeitraum:</strong> {{ start_date }} bis {{ end_date }}</p>
  <p><strong>Lieferadresse:</strong> {{ address }}</p>
  <p><strong>Name auf der Karte:</strong> {{ name_on_card }}</p>
</div>

  </div>
</section>
{% endblock %}
